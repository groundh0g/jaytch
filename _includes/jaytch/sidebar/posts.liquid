{% assign posts = include.posts | default: site.posts %}
{% assign limit = include.limit | default: 3 %}
{% assign words = include.words | default: 25 %}
{% assign showArchiveLink = include.showArchiveLink | default: true %}
{% assign archiveUrl = include.archiveUrl | default: "/archive" %}

<div class="sidebar">

{% for post in posts limit limit %}

<div class="postSummary">
<p class="title">{{ post.title }}<br/><small><a href="{{ site.baseurl }}{{ post.url }}">{{ post.date | date: "%B %e, %Y" }}</a></small></p>
<p class="text">{{ post.content | strip_html | truncatewords: words }}</p>
</div>

{% endfor %}

{% if showArchiveLink %}

<div class="postSummary">
<p class="title">Archive</p>

<p class="text">The most recent {% if posts.size > limit %}{{ limit }}{% else %}{{ posts.size }}{% endif %} posts are shown above. <a href="{{ site.baseurl }}{{ archiveUrl }}">Click here</a> to view the archive.</p>
</div>

{% endif %}

</div>